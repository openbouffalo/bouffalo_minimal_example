#include "romdriver.h"

static const uint8_t header[240] __attribute__((used,section(".header"))) = {
    0x42, 0x46, 0x4E, 0x50, 0x01, 0x00, 0x00, 0x00, 0x46, 0x43, 0x46, 0x47, 0x11, 0x00, 0x01, 0x01, 
    0x66, 0x99, 0xFF, 0x03, 0x9F, 0x00, 0x9F, 0x00, 0x04, 0x00, 0x00, 0x01, 0xC7, 0x20, 0x52, 0xD8, 
    0x06, 0x02, 0x32, 0x00, 0x0B, 0x01, 0x0B, 0x01, 0x3B, 0x01, 0xBB, 0x00, 0x6B, 0x01, 0xEB, 0x02, 
    0xEB, 0x02, 0x02, 0x50, 0x00, 0x01, 0x00, 0x01, 0x01, 0x00, 0x02, 0x01, 0x02, 0x01, 0xAB, 0x01, 
    0x05, 0x35, 0x00, 0x00, 0x01, 0x01, 0x00, 0x00, 0x38, 0xFF, 0xA0, 0xFF, 0x77, 0x03, 0x02, 0x40, 
    0x77, 0x03, 0x02, 0xF0, 0x2C, 0x01, 0xB0, 0x04, 0xB0, 0x04, 0x05, 0x00, 0xE8, 0x80, 0x14, 0x00, 
    0xE6, 0x4C, 0x1F, 0x20, 0x50, 0x43, 0x46, 0x47, 0x01, 0x05, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 
    0xE0, 0xD9, 0xD0, 0xC6, 0x10, 0x03, 0x03, 0x00, 0xD0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x20, 0x00, 0x00, 0xEF, 0xBE, 0xAD, 0xDE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xEF, 0xBE, 0xAD, 0xDE, 
};

int main() {
	GLB_GPIO_Cfg_Type gpioCfg = {
        .gpioPin = GLB_GPIO_PIN_17,
        .gpioFun = 11,
        .gpioMode = 1,
        .pullType = 2,
        .drive = 0,
        .smtCtrl = 1
    };

    RomDriver_GLB_GPIO_Init(&gpioCfg);
    RomDriver_GLB_GPIO_OUTPUT_Enable(gpioCfg.gpioPin);
    while (1) {
      RomDriver_GLB_GPIO_Write(17, 1);
      RomDriver_BL702L_Delay_MS(500);
      RomDriver_GLB_GPIO_Write(17, 0);
      RomDriver_BL702L_Delay_MS(500);
    }
}